<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>K-Turrets - mod overview</title>
    <link rel="stylesheet" href="../main.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <nav>
        <ul>
            <li><a class="margined-link" href="../index.html">Main page</a></li>
        </ul>
    </nav>
    <h2>K-Turrets overview</h2>
    <p>K-Turrets is a Minecraft mod which adds 6 turrets and combat drones. Turrets protect areas from hostile mobs. Drones work similarly
    to turrets, but are mobile and have lower stats. I will refer to drone or turret as 'unit' if the contextual information applies to both object
    types during the overview.
  </p>
  <p>Unit can be obtained by crafting its respective item. First you must obtain titanium ingots, which are smelted from raw titanium in the blast furnace,
     which drops from titanium ore generating in the Overworld.</p>
     <p> Turret recipes have following pattern - 6 copper plates, a dispenser,
        and type-specific ingredient on sides:</p>

  <p>Drone recipes have following pattern - 4 propellers, 2 feathers, a dispenser and type-specific ingredient on sides:</p>

  <p>You can configure unit via a UI which is accessed by Shift + right click on the unit.</p>
  <img src="images/configuration-ui.png">
  <p>On the left side there is a list of applicable targets, represented by a toggle button with the entity's registry name. On the right side
  there are several controls, integrity (health) indicator and a couple of hints. To remove a target, press on it - it will appear crossed out.
  Once you removed desired targets, close the screen to apply the changes. To add a target, use the text field on top - write full registry name
  and then press 'Add...'button. While you write, a list of suggestions will be displayed below. You can click on a suggestion to copy it into
the text field.</p>
  <p>You can exclude players from targets using the same text field by typing in a player's name prefixed by '!'. Excluded players will appear
     at the top of the target list.</p>
     <p> Pressing 'Dismantle' will drop the unit in item form (its state and ammo will be saved). There is
  another button that toggles unit's pushability, and another button which controls whether a unit will attack players who are not allied to you.
   "Claim" button will make a unit yours.</p>
<p>Another button will show up in drone uI which controls whether a drone is following its owner, staying or guarding.</p>
<p>Dismantling a unit will produce an item that has unit's data written on it; you can see unit's uuID in the tooltip. using such item
will place that unit and load its data.</p>
<p>If unit is damaged, you can repair it with a titanium ingot by Shift + right clicking it. Drone recovers 1/4 of integrity from 1 ingot,
   and turret recovers 1/6 of integrity.</p>
   <p>By default unit's targets are all potentially hostile mobs. If you want it to shoot players that are not allied to you, you must
       toggle the mentioned control button.</p>

   <p>To access unit's inventory, right click it. There you can load it with appropriate ammo.</p>
   <p>Hoppers can insert ammo into units.</p>
   <p>You can hold 'K' key to highlight locations of your drones in 128 block range around you (even through blocks):</p>
   <img src="images/drone-location-highlight.png" alt="">

   <h3>Behavior</h3>
   <p>Turret: if it has ammo (and weapon if it's an Arrow turret), it will shoot at its targets within range.</p>
   <p>Drone: same as turret, but will pursue the target. If is set to follow the owner, will fly towards his body. When attacking a mob,
       a drone will move sideways and move back if an attacking mob is too close.</p>
   <p>Drones have less slots for ammo.</p>
   <p>Units won't hurt friendly mobs unless they are in the target list.</p>
    <p>Turrets will take ammo from adjacent inventories if 'refill inventory' toggle is enabled in the configuration screen.</p>

    <h3>Types</h3>
    <p>There are following types of units:</p>
    <ol>
        <li>Arrow: can use all kinds of arrows as ammo. Flame, Punch, Power enchantments on the bow are applicable by arrow units. If Infinity is on a bow or Multishot is on a crossbow, then the unit won't decrease its durability.</li>
        <img src="images/arrow-drone.png"><img src="images/arrow-turret.png">
        <li>Bullet: can use gold and iron nuggets as ammo.</li>
        <img src="images/bullet-drone.png"><img src="images/bullet-turret.png">
        <li>Brick: can use bricks and nether bricks as ammo.</li>
        <img src="images/brick-drone.png"><img src="images/brick-turret.png">
        <li>Cobble: can use all items under tag "stone_tool_materials" as ammo.</li>
        <img src="images/cobble-drone.png"><img src="images/cobble-turret.png">
        <li>Fireball: uses explosive powder as ammo. Explosive powder is crafted from gunpowder and blaze powder.</li>
        <img src="images/firecharge-drone.png"><img src="images/fireball-turret.png">
        <li>Gauss: uses gauss bullets as ammo.</li>
        <img src="images/gauss-drone.png"><img src="images/gauss-turret.png">
        <li>Storage Drone: carries items.</li>
        <img src="images/StorageDroneModel.png">
    </ol>

   <h3>Configuration</h3>
   <p>Each turret type's stats can be configured separately, such as health, range, armor, fire rate, damage. By default, their stats are identical
   except damage; turrets ranked by damage, from lowest: cobble, firecharge, arrow, bullet, brick, gauss. If you change the range, then the new value
   will be applied to only newly placed units.</p>
   <p>Turret default values:</p>
   <p>Health = 60</p>
   <p>Armor = 3</p>
   <p>Range = 32</p>
   <p>Fire rate = 20 (1 second)</p>
   <p>Drones' stats are derived from appropriate turrets' stats like this:</p>
   <p>Health = Turret Health * 85%</p>
   <p>Range = Turret Range - 5</p>
   <p>Armor = Turret Armor * 34%</p>
   <p>Other stats are identical, though their inventory has 1 row of slots less.</p>
    <p>If you need, you can change ammo items by making a datapack with ammo item tags. Datapack layout:
        <pre>
            -data
                -k_turrets
                    -tags
                        -items
                            arrow_unit_ammo.json
                            bullet_unit_ammo1.json
                            bullet_unit_ammo2.json
                            brick_unit_ammo1.json
                            brick_unit_ammo2.json
                            cobble_unit_ammo.json
                            fireball_unit_ammo.json
                            gauss_unit_ammo.json
        </pre>
    Bullet and brick units have two types of ammo, which deal slightly different damage.
    </p>
   <p>You can turn on drone propeller sound in the client config.</p>
   <p>You can define what mobs will be excluded from default targets in the config.</p>
   <p>You can configure amount of titanium ore generated in 1.16.5-1.19.2 versions of the mod. Versions 1.20.1 and up require a datapack.</p>
   <p>In the server config (which can be found in "world/serverconfig" directory) there are defined limits of drone and turret count per player and per dimension.
       A player will not be able to place new drones or turrets if he reaches the limits. Default values are 10 for drones and 10 for turrets.
    </p>
    <p>You can toggle ammo refill, which will make unit to take ammo from adjacent inventories.</p>
    <p>You can copy target filters and exceptions from one unit to the other using Filter Copier.</p>
    <p>You can make unit projectiles ignore mob damage cooldown using <a href="https://legacy.curseforge.com/minecraft/customization/k-turrets-damage-cooldown-bypass">this datapack</a> (for versions 1.20.1 and up).</p>

    <h3>Upgrades</h3>
    <p>Turrets can use following upgrades:</p>
    <ul>
        <li>Experience link - entities killed by the unit will drop experience</li>
        <li>Fire shield - unit gains immunity to fire damage</li>
    </ul>
    <p>Combat drones can use all turret upgrades and following:</p>
    <ul>
        <li>Recall upgrade - drone will teleport to the owner if farther than 128 blocks</li>
        <li>Lantern - drone will be placing light block</li>
    </ul>
    <p>Storage drone can use following upgrades:</p>
    <ul>
        <li>Recall upgrade</li>
        <li>Lantern</li>
        <li>Item magnet - drone will attract items and store them. Can have filters configured</li>
    </ul>
    <h3>Ammo Reloader</h3>
    <p>Ammo Reloader is a block that reloads drone ammo. It can be automated, and reloads drones in 6 block range. It has 6 rows of slots for each drone ammo type.</p>

   <h3>Tricks and non-obvious info</h3>
   <ol>
      <li>Units are immune to poison, wither, hunger, health, health boost and regeneration effects.</li>
      <li>Vanilla team system is taken into account by unit targeting.</li>
      <li>Units can't drown.</li>
   </ol>

   <h3>How to get a lot of ammo</h3>
   <p>Here are good sources of ammo:</p>
   <ul>
      <li>For bullet units - mining nether gold ore;</li>
      <li>For brick units - smelting netherrack, digging clay in lush caves, buying bricks from the mason;</li>
      <li>For arrow units - buying arrows from fletcher;</li>
      <li>For gauss units - killing endermen in the End.</li>
   </ul>
  </body>
</html>
